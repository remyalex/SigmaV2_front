<h2 mat-dialog-title>{{ constants.detalle }} Cargue de resultados gen√©ricos de laboratorio</h2>

<mat-dialog-content [formGroup]="form">
  <input type="hidden" formControlName="id" [(ngModel)]="ensayo.id">

  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0">
    <div fxFlex="50">
      <mat-form-field class="w-100">
        <input matInput placeholder="Fecha solicitud" formControlName="fecha" [(ngModel)]="ensayo.fecha"
          [value]="ensayo.fecha" autocomplete="off" type="text" readonly />
      </mat-form-field>
    </div>

    <div fxFlex="50">
      <mat-form-field class="w-100">
        <input matInput placeholder="Usuario que solicita" formControlName="usuario" [(ngModel)]="ensayo.usuario"
          [value]="ensayo.usuario.nombres +' '+ensayo.usuario.apellidos" autocomplete="off" type="text" readonly />
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0">
    <div fxFlex="50">
      <mat-form-field class="w-100">
        <input matInput placeholder="Fecha de ensayo" formControlName="fechaRegistroEnsayo"
          [(ngModel)]="ensayo.fechaRegistroEnsayo" [(value)]="ensayo.fechaRegistroEnsayo" autocomplete="off" type="text"
          readonly />
      </mat-form-field>
    </div>

    <div fxFlex="50">
      <mat-form-field class="w-100">
        <input matInput placeholder="Usuario que diligencia" formControlName="usuarioTramite"
          [(ngModel)]="ensayo.usuarioTramite"
          [value]="ensayo.usuarioTramite.nombres +' '+ensayo.usuarioTramite.apellidos" autocomplete="off" type="text"
          readonly />
      </mat-form-field>
    </div>
  </div>


  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0">
    <div *ngIf="!ensayo.generico" fxFlex="50">
      <mat-form-field class="w-100">
        <input matInput placeholder="PK" formControlName="pk" [(value)]="ensayo.mantenimiento.pk" autocomplete="off"
          type="text" readonly />
      </mat-form-field>
    </div>

    <div fxFlex="50">
      <mat-form-field class="w-100">
        <input matInput placeholder="Tipo de Ensayo" formControlName="tipoEnsayo" [ngModel]="ensayo.tipoEnsayo"
          [(value)]="ensayo.tipoEnsayo.descripcion" autocomplete="off" type="text" readonly />
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0">

    <div fxFlex class="mb-10">
      <mat-card-content t-card-content class="m-0">
        <h3 mat-subheader>Resultados</h3>
        <div class="mb-10" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0">
          <div class="w-100">
            <div fxFlex class="mb-10" >
              {{ ensayo.archivo.nombre }}
            </div>
            <div fxFlex class="mb-10" align="end">
              <sigma-show-file id="{{ ensayo.archivo.id }}"></sigma-show-file>
            </div>
          </div>
        </div>
      </mat-card-content>
    </div>

  </div>


  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0">
    <div fxFlex>
      <mat-form-field class="w-100">
        <input matInput placeholder="Observaciones" formControlName="observaciones" [(ngModel)]="ensayo.observaciones"
          autocomplete="off" type="text" readonly />
      </mat-form-field>
    </div>

  </div>
</mat-dialog-content>

<mat-divider class="mat-divider mat-divider-horizontal"></mat-divider>

<mat-dialog-actions align="end">
  <button mat-button color="warn" (click)="close()">
    <mat-icon class="m-1">close</mat-icon>{{ constants.cancelar }}
  </button>
</mat-dialog-actions>